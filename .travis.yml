language: python

python:
  - 2.7

install:
  - git clone https://github.com/luciferavada/zshell-python-venv.git
  - source zshell-python-venv/python.sh
  - pip install -r .requirements
  - source .venv-activate

script:
  - venv-tornado-test

after_success:
  - codecov --token "${CODECOV}" > /dev/null

notifications:

  slack:

    rooms:
      - sugarush:ZmgII1nbdMZf6FEhq7PgiuAG#travis-ci

    template:
      - "Commit to %{repository}@%{branch} by %{author} <%{build_url}|#%{build_number}> (<%{compare_url}|%{commit}>) %{result}"
      - "%{commit_message}"

    on_pull_requests: false
